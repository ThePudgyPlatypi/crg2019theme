/*

Parent page for posts. You will land here if you click on news, or certain categories
of the Resource center.

*/

@mixin evenSwitch() {
    &:nth-child(2n) {
        .post-grid-block-inside .post-grid-block-inside-cell:nth-child(2) {
            order: 2;
        }

        .post-grid-block-inside .post-grid-block-inside-cell:last-child {
            order: 1;

            .entry-inner {

                &:before {
                    left: initial;
                    transform: translate(50%, -50%);
                    right: 0;
                }

                &:after {
                    left: initial;
                    right: 0;
                    transform: translate(50%, -50%);
                }
            }
        }

    }
}

.post-grid {
    @include xy-grid();

    .post-grid-block {
        @include xy-cell(12, $gutters: 0);

        @include breakpoint(medium) {
            @include xy-cell(12, $gutters: 0);
            // @include evenSwitch();
        }

        @include breakpoint(middle) {
            @include xy-cell(12, $gutters: 0);
            // @include evenSwitch();
        }

        @include breakpoint(large) {
            @include xy-cell(6, $gutters: 0);

            // &:nth-child(4n+3),
            // &:nth-child(4n+4) {
            //     .post-grid-block-inside .post-grid-block-inside-cell:nth-child(2) {
            //         order: 2;
            //     }

            //     .post-grid-block-inside .post-grid-block-inside-cell:last-child {
            //         order: 1;

            //         .entry-inner {

            //             &:before {
            //                 left: initial;
            //                 transform: translate(50%, -50%);
            //                 right: 0;
            //             }

            //             &:after {
            //                 left: initial;
            //                 transform: translate(50%, -50%);
            //                 right: 0;
            //             }
            //         }
            //     }
            // }
        }

        @include breakpoint(xxlarge) {
            @include xy-cell(4, $gutters: 0);

            // &:nth-child(6n+4),
            // &:nth-child(6n+5),
            // &:nth-child(6n+6) {
                
            //     .post-grid-block-inside .post-grid-block-inside-cell:nth-child(2) {
            //         order: 2;
            //     }

            //     .post-grid-block-inside .post-grid-block-inside-cell:last-child {
            //         order: 1;

            //         .entry-inner {

            //             &:before {
            //                 left: initial;
            //                 transform: translate(50%, -50%);
            //                 right: 0;
            //             }

            //             &:after {
            //                 left: initial;
            //                 right: 0;
            //                 transform: translate(50%, -50%);
            //             }
            //         }
            //     }
            // }

            // &:nth-child(4n+3),
            // &:nth-child(4n+4) {
            //     .post-grid-block-inside .post-grid-block-inside-cell:nth-child(2) {
            //         order: 1;
            //     }

            //     .post-grid-block-inside .post-grid-block-inside-cell:last-child {
            //         order: 2;

            //         .entry-inner {

            //             &:before {
            //                 left: 0;
            //                 // transform: translate(-125%, -50%);
            //                 // right: 0;
            //             }

            //             &:after {
            //                 left: 0;
            //                 // right: 0;
            //                 // transform: translate(-125%, -50%);
            //             }
            //         }
            //     }
            // }
        }

        

        .post-grid-block-inside {
            @include xy-grid();
            @include flex;
            height: 100%;
            position: relative;

            .post-grid-block-inside-cell {
                @include xy-cell(12, $gutters: 0);
                @include flex;
                @include flex-direction(column);
                @include flex-align($y: middle);
                min-height: 350px;

                .entry-inner { // START HERE 7/12
                    position: relative;
                    padding: 40px;
                    height: 100%;
                    width: 100%;

                    &:before {
                        color: $dark-gray;
                        content: "\2635";
                        display: block;
                        font-size: 2rem;
                        height: 50px;
                        left: 50%;
                        line-height: 50px;
                        transform: translate(-50%, -50%);
                        position: absolute;
                        text-align: center;
                        top: 0;
                        width: 50px;
                        z-index: 5;
                    }

                    &:after {
                        background-color: #fff;
                        border-radius: 50px;
                        content: "";
                        display: block;
                        height: 50px;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        position: absolute;
                        top: 0;
                        width: 50px;
                    }
                }

                &.no-thumbnail .entry-inner {
                    .entry-content {
                        position: relative;
                        
                        &:before {
                            color: $white;
                            content: "\2635";
                            top: 0;
                            display: block;
                            font-size: 2rem;
                            height: 50px;
                            line-height: 50px;
                            margin-left: 50%;
                            transform: translate(-50%, -55px);
                            position: absolute;
                            width: 50px;
                            z-index: 5;
                        }
    
                        &:after {
                            background-color: $dark-gray;
                            border-radius: 50px;
                            content: "";
                            top: 0;
                            display: block;
                            height: 50px;
                            margin-left: 50%;
                            transform: translate(-50%, -55px);
                            position: absolute;
                            width: 50px;
                        }
                    }
                }

                @include breakpoint(medium) {
                    @include xy-cell(6, $gutters: 0);

                    .entry-inner {
                        &:before {
                            left: 0;
                            top: 50%;
                        }
    
                        &:after {
                            left: 0;
                            top: 50%;
                        }
                    }
                    
                    &.no-thumbnail {
                        @include xy-cell(12, $gutters: 0);

                        .entry-inner {
                            @include flex;
                            @include flex-align($x: center);
                            text-align: center;

                            &:before {
                                display: none;
                            }
        
                            &:after {
                                display: none;
                            }
                            
                            .entry-inner-content {
                                @include flex-align-self(middle);

                                h4 {
                                    margin-bottom: 30px;

                                    &:after {
                                        margin-top: 30px;
                                    }
                                }
                            }
                        }
                    }
                }

                .entry-media {
                    width: 100%;
                    height: 100%;
                    background-size: cover;
                    background-repeat: no-repeat;
                }
            }

            a.cover-link {
                border: 1px solid transparent;
                bottom: 0;
                left: 0;
                position: absolute;
                right: 0;
                top: 0;
                -webkit-transition: border-color 0.3s, border-width 0.3s;
                transition: border-color 0.3s, border-width 0.3s;
                z-index: 4;

                &:hover,
                &:focus {
                    .entry-media {
                        transform: scale(1.1);
                    }
                }

            }
        }
    }
}
